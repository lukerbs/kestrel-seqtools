{% extends "base.html" %}

{% block title %}Banking Settings - Bank of America{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h2 class="mb-4">
            <i class="bi bi-gear"></i> Banking Settings
        </h2>
        <p class="text-muted">Manage your banking preferences and notification settings</p>
    </div>
</div>

<div class="row">
    <div class="col-md-8">
        <!-- Notifications -->
        <div class="card mb-4">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0">
                    <i class="bi bi-bell"></i> Notifications & Alerts
                </h5>
            </div>
            <div class="card-body">
                <form method="POST">
                    <div class="mb-4">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <div>
                                <strong>Email Alerts</strong><br>
                                <small class="text-muted">Receive account activity via email</small>
                            </div>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="emailAlerts" checked>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <div>
                                <strong>SMS/Text Alerts</strong><br>
                                <small class="text-muted">Receive notifications via text message</small>
                            </div>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="smsAlerts">
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label for="transactionThreshold" class="form-label">
                            <strong>Transaction Alert Threshold</strong>
                        </label>
                        <small class="text-muted d-block mb-2">
                            Notify me when a single transaction exceeds:
                        </small>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input type="number" class="form-control" id="transactionThreshold" 
                                   value="500" step="50" min="0">
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label for="lowBalanceThreshold" class="form-label">
                            <strong>Low Balance Alert</strong>
                        </label>
                        <small class="text-muted d-block mb-2">
                            Notify me when my balance falls below:
                        </small>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input type="number" class="form-control" id="lowBalanceThreshold" 
                                   value="100" step="25" min="0">
                        </div>
                    </div>
                    
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary">
                            <i class="bi bi-check-circle"></i> Save Notification Settings
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Security Preferences -->
        <div class="card mb-4">
            <div class="card-header" style="background-color: #e7f3ff; border-bottom: 1px solid var(--bank-border);">
                <h5 class="mb-0" style="color: #333;">
                    <i class="bi bi-shield-lock"></i> Security Preferences
                </h5>
            </div>
            <div class="card-body">
                <div class="mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <div>
                            <strong>Login Notifications</strong><br>
                            <small class="text-muted">Email me when someone logs into my account</small>
                        </div>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="loginNotifications" checked>
                        </div>
                    </div>
                </div>
                
                <div class="mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <div>
                            <strong>Two-Factor Authentication</strong><br>
                            <small class="text-muted">Add an extra layer of security</small>
                        </div>
                        <button class="btn btn-sm btn-outline-primary" onclick="show2FASetup()">
                            <i class="bi bi-toggle-off"></i> Enable
                        </button>
                    </div>
                </div>
                
                <div class="mb-4">
                    <strong class="d-block mb-2">Trusted Devices</strong>
                    <div class="list-group">
                        <div class="list-group-item d-flex justify-content-between align-items-start">
                            <div>
                                <i class="bi bi-laptop"></i>
                                <strong class="ms-2">Windows PC</strong><br>
                                <small class="text-muted ms-4">Last used: Today at 2:43 PM</small>
                            </div>
                            <button class="btn btn-sm btn-outline-danger">Remove</button>
                        </div>
                    </div>
                </div>
                
                <div class="alert alert-info">
                    <i class="bi bi-info-circle"></i> 
                    For additional security options, visit <a href="{{ url_for('account_settings') }}">Account Settings</a>
                </div>
            </div>
        </div>
        
        <!-- Display Preferences -->
        <div class="card mb-4">
            <div class="card-header bg-light">
                <h5 class="mb-0">
                    <i class="bi bi-eye"></i> Display Preferences
                </h5>
            </div>
            <div class="card-body">
                <form method="POST">
                    <div class="mb-3">
                        <label for="language" class="form-label">
                            <strong>Language</strong>
                        </label>
                        <select class="form-select" id="language">
                            <option selected>English</option>
                            <option>Español (Spanish)</option>
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label for="currency" class="form-label">
                            <strong>Currency Format</strong>
                        </label>
                        <select class="form-select" id="currency">
                            <option selected>US Dollar ($)</option>
                            <option>Euro (€)</option>
                            <option>British Pound (£)</option>
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label for="dateFormat" class="form-label">
                            <strong>Date Format</strong>
                        </label>
                        <select class="form-select" id="dateFormat">
                            <option selected>MM/DD/YYYY</option>
                            <option>DD/MM/YYYY</option>
                            <option>YYYY-MM-DD</option>
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label for="dashboardLayout" class="form-label">
                            <strong>Dashboard Layout</strong>
                        </label>
                        <select class="form-select" id="dashboardLayout">
                            <option selected>Compact View</option>
                            <option>Detailed View</option>
                            <option>Classic View</option>
                        </select>
                    </div>
                    
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary">
                            <i class="bi bi-check-circle"></i> Save Display Settings
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Privacy Settings -->
        <div class="card">
            <div class="card-header bg-light">
                <h5 class="mb-0">
                    <i class="bi bi-lock"></i> Privacy Settings
                </h5>
            </div>
            <div class="card-body">
                <form method="POST">
                    <div class="mb-4">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <div>
                                <strong>Marketing Emails</strong><br>
                                <small class="text-muted">Receive promotional offers and updates</small>
                            </div>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="marketingEmails">
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <div>
                                <strong>Data Sharing</strong><br>
                                <small class="text-muted">Share anonymized data with partners</small>
                            </div>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="dataSharing">
                            </div>
                        </div>
                    </div>
                    
                    <div class="alert alert-secondary">
                        <i class="bi bi-file-text"></i> 
                        View our <a href="#" class="alert-link">Privacy Policy</a> and 
                        <a href="#" class="alert-link">Terms of Service</a>
                    </div>
                    
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary">
                            <i class="bi bi-check-circle"></i> Save Privacy Settings
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Sidebar -->
    <div class="col-md-4">
        <div class="card mb-4">
            <div class="card-header bg-light">
                <h6 class="mb-0">
                    <i class="bi bi-info-circle"></i> Quick Links
                </h6>
            </div>
            <div class="card-body">
                <div class="d-grid gap-2">
                    <a href="{{ url_for('account_settings') }}" class="btn btn-outline-primary btn-sm">
                        <i class="bi bi-person"></i> Account Profile
                    </a>
                    <button class="btn btn-outline-secondary btn-sm" disabled>
                        <i class="bi bi-file-text"></i> Document Preferences
                    </button>
                    <button class="btn btn-outline-secondary btn-sm" disabled>
                        <i class="bi bi-credit-card"></i> Manage Cards
                    </button>
                    <button class="btn btn-outline-secondary btn-sm" disabled>
                        <i class="bi bi-people"></i> Authorized Users
                    </button>
                </div>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header bg-light">
                <h6 class="mb-0">
                    <i class="bi bi-question-circle"></i> Need Help?
                </h6>
            </div>
            <div class="card-body">
                <p class="small text-muted mb-3">
                    Contact us if you need assistance with your settings
                </p>
                <p class="small mb-2">
                    <i class="bi bi-telephone"></i> <strong>Call:</strong> 1 (800) 432-1000
                </p>
                <p class="small mb-2">
                    <i class="bi bi-envelope"></i> <strong>Email:</strong> support@bankofamerica.com
                </p>
                <p class="small mb-0">
                    <i class="bi bi-clock"></i> <strong>Hours:</strong> Mon-Fri 8am-8pm EST
                </p>
            </div>
        </div>
    </div>
</div>

<!-- 2FA Setup Modal -->
<div class="modal fade" id="twoFAModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <i class="bi bi-shield-check"></i> Enable Two-Factor Authentication
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-info">
                    <i class="bi bi-info-circle"></i> 
                    Two-factor authentication adds an extra layer of security by requiring a verification code in addition to your password.
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Select Verification Method</label>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="2faMethod" id="2faSMS" checked>
                        <label class="form-check-label" for="2faSMS">
                            <strong>SMS Text Message</strong><br>
                            <small class="text-muted">Receive codes via text to your phone</small>
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="2faMethod" id="2faEmail">
                        <label class="form-check-label" for="2faEmail">
                            <strong>Email</strong><br>
                            <small class="text-muted">Receive codes via email</small>
                        </label>
                    </div>
                </div>
                
                <div class="mb-3">
                    <label for="verifyPhone" class="form-label">Verify Phone Number</label>
                    <input type="tel" class="form-control" id="verifyPhone" value="(313) 555-0142">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" onclick="alert('A verification code will be sent to your phone. Please enter the code to complete setup.'); document.getElementById('twoFAModal').querySelector('.btn-close').click();">
                    <i class="bi bi-check-circle"></i> Enable 2FA
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
function show2FASetup() {
    const modal = new bootstrap.Modal(document.getElementById('twoFAModal'));
    modal.show();
}
</script>
{% endblock %}

